<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoralCSS - Dialog Component Example</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-slate-50 min-h-screen p-8">
  <div class="container mx-auto">
    <h1 class="text-3xl font-bold text-slate-800 mb-4">Dialog Component</h1>
    <p class="text-slate-600 mb-8">
      Accessible modal dialogs with focus trap, keyboard navigation, and backdrop click handling.
    </p>

    <!-- Basic Dialog -->
    <section class="mb-12">
      <h2 class="text-xl font-semibold mb-4">Basic Dialog</h2>
      <button id="open-basic" class="bg-coral-500 text-white px-4 py-2 rounded-lg hover:bg-coral-600 transition">
        Open Dialog
      </button>

      <dialog id="basic-dialog" data-coral-dialog class="rounded-xl shadow-2xl p-0 max-w-md backdrop:bg-black/50">
        <div class="p-6">
          <h3 class="text-xl font-semibold text-slate-800 mb-2">Dialog Title</h3>
          <p class="text-slate-600 mb-4">
            This is a basic dialog with a title, content, and action buttons.
            Click outside or press Escape to close.
          </p>
          <div class="flex justify-end gap-2">
            <button data-coral-dialog-close class="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition">
              Cancel
            </button>
            <button data-coral-dialog-close class="bg-coral-500 text-white px-4 py-2 rounded-lg hover:bg-coral-600 transition">
              Confirm
            </button>
          </div>
        </div>
      </dialog>
    </section>

    <!-- Confirmation Dialog -->
    <section class="mb-12">
      <h2 class="text-xl font-semibold mb-4">Confirmation Dialog</h2>
      <button id="open-confirm" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
        Delete Item
      </button>

      <dialog id="confirm-dialog" data-coral-dialog class="rounded-xl shadow-2xl p-0 max-w-sm backdrop:bg-black/50">
        <div class="p-6 text-center">
          <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-slate-800 mb-2">Delete Item?</h3>
          <p class="text-slate-600 text-sm mb-4">
            Are you sure you want to delete this item? This action cannot be undone.
          </p>
          <div class="flex gap-2">
            <button data-coral-dialog-close class="flex-1 px-4 py-2 text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition">
              Cancel
            </button>
            <button data-coral-dialog-close class="flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
              Delete
            </button>
          </div>
        </div>
      </dialog>
    </section>

    <!-- Form Dialog -->
    <section class="mb-12">
      <h2 class="text-xl font-semibold mb-4">Form Dialog</h2>
      <button id="open-form" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">
        Add New Item
      </button>

      <dialog id="form-dialog" data-coral-dialog class="rounded-xl shadow-2xl p-0 max-w-md backdrop:bg-black/50">
        <form class="p-6">
          <h3 class="text-xl font-semibold text-slate-800 mb-4">Add New Item</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Name</label>
              <input type="text" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Item name">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Description</label>
              <textarea class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" rows="3" placeholder="Item description"></textarea>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Category</label>
              <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option>Select category</option>
                <option>Category 1</option>
                <option>Category 2</option>
                <option>Category 3</option>
              </select>
            </div>
          </div>
          <div class="flex justify-end gap-2 mt-6">
            <button type="button" data-coral-dialog-close class="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition">
              Cancel
            </button>
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">
              Add Item
            </button>
          </div>
        </form>
      </dialog>
    </section>

    <!-- Code Example -->
    <section>
      <h2 class="text-xl font-semibold mb-4">Usage</h2>
      <pre class="bg-slate-800 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm">
import { createDialog } from '@coral-css/core/components'

// Create dialog
const dialog = createDialog('#my-dialog', {
  closeOnBackdrop: true,
  trapFocus: true,
})

// Open dialog
dialog.open()

// Close dialog
dialog.close()

// Listen for events
dialog.element.addEventListener('coral:dialog:open', () =&gt; {
  console.log('Dialog opened')
})

dialog.element.addEventListener('coral:dialog:close', () =&gt; {
  console.log('Dialog closed')
})</pre>
    </section>
  </div>

  <script type="module">
    // Simple dialog logic for demo
    document.getElementById('open-basic').onclick = () => document.getElementById('basic-dialog').showModal()
    document.getElementById('open-confirm').onclick = () => document.getElementById('confirm-dialog').showModal()
    document.getElementById('open-form').onclick = () => document.getElementById('form-dialog').showModal()

    document.querySelectorAll('dialog').forEach(dialog => {
      dialog.onclick = (e) => {
        if (e.target === dialog) dialog.close()
      }
    })
  </script>
</body>
</html>
